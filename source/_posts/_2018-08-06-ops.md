---
title: op 描述
date: 2018-08-06
category: CNN
mathjax: true
---

## ELTWISE

| key          | value                 | description             |
| ------------ | --------------------- | ----------------------- |
| axis         | manis::Argument::i    |                         |
| output_shape | manis::Argument::ints | [N H W C] or [N C H W]  |

## BATCH_NORM

| key      | value                   | description                                                                                                  |
| -------- | ----------------------- | ------------------------------------------------------------------------------------------------------------ |
| axis     | manis::Argument::i      |                                                                                                              |
| momentum | manis::Argument::f      | Momentum for the moving average                                                                              |
| epsilon  | manis::Argument::f      | default value 0.0001                                                                                         |
| scale    | manis::Argument         | if = 1, multiply by gamma. else gamma is ignored get the gamma value from the manis::Argument::floats field. |
| bias     | manis::Argument         | if Argument::i == 1, then the bias is stored in Argument::floats, else the bias is ignored.                  |
| mean     | manis::Argument::floats | Sequence of N floats >= 1, store the mean tensor.                                                            |
| var      | manis::Argument::floats | Sequence of N floats >= 1, store the val.                                                                    |

## CONCAT

| key  | value              | description |
| ---- | ------------------ | ----------- |
| axis | manis::Argument::i |             |

## CONVOLUTION

| key          | value                               | description                                                                                                                                                                                                                                                                                                         |
|--------------|-------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| bias         | manis::Argument                     | if Argument::i = 1, then the bias is used, value is stored in the same value's floats field. else the bias is ignored.                                                                                                                                                                                              |
| dilations    | manis::Argument::ints               | Sequence of N ints >= 1, Specifies the filter upsampling/input downsampling rate. [1, [dilation_depth,] dilation_height, dilation_width, 1]                                                                                                                                                                         |
| kernel_shape | manis::Argument::ints               | The shape of the convolution kernel [[filter_depth,] filter_height, filter_width, in_channels, out_channels]                                                                                                                                                                                                        |
| strides      | manis::Argument::ints               | Sequence of N ints >= 1, [1, [stride_deep,] stride_height, stride_width, 1]                                                                                                                                                                                                                                         |
| pads         | manis::Argument::ints               | Sequence of Nx2 ints >= 1. [x1begin, x2begin, ..., x1end, x2end, x3end]                                                                                                                                                                                                                                             |
| group        | manis::Argument::i                  | group id. if g > 1, We restrict the connectivity of each filter to a sub set of the input. Specifically, input and output channels are separated into g groups. and the iith output group channels will be only connected to the iith input input group channels.                                                   |
| auto_pad     | manis::Argument::s                  | allowed values {"SAME_UPPER", "SAME_LOWER", "VALID"} the type of padding algorithm to use. Where SAMP_UPPER or SAME_LOWER mean pad the input so that output size match the input. In case of odd number add the extra padding at the end for SAME_UPPER and at the beginning for SAME_LOWER. VALID mean no padding. |
| data_format  | manis::OperatorDef::chanel_type_out | allowed_values {manis::LayoutType::NCHW, manis::LayoutType::NHWC}                                                                                                                                                                                                                                                   |

## INPUT

| key   | value                            | description                               |
|-------|----------------------------------|-------------------------------------------|
| dtype | manis::OperatorDef::op_data_type | The type of elements in the input tensor. |
| shape | manis::OperatorDef::output_shape | The shape of the input tensor.            |

## DROPOUT

| key         | value                 | description            |
|-------------|-----------------------|------------------------|
| keep_prob   | manis::Argument::f    | Probability keep_prob, |
| seed        | manis::Argument::i    |                        |
| noise_shape | manis::Argument::ints | noise shape.           |

## EXP

Computes exponential of x element-wise. y = e^x

## FLATTEN

Flatten tensor with shape [batch_size, 1]

## LOG

$y = log_e(x)$

## RESHAPE

| key   | value                           | description         |
|-------|---------------------------------|---------------------|
| shape | manis::OperatorDef:output_shape | target output shape |

## RELU

Computes rectified linear: max(feature, 0)

## SLICE

| key     | value                 | description                                                                                                                                                                                                                                                                                                        |
|---------|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| starts  | manis::Argument::ints | starts[k] specifies the offset into the kth range specification. The exact dimension this corresponds to will be determined by context. Out-of-bounds values will be silently clamped. If the kth bit of `begin_mask` then `starts[k]` is ignored and the full range of the appropriate dimension is used instead. |
| ends    | manis::Argument::ints | ends[i] is like begin with the exception that end_mask is used to determine full range.                                                                                                                                                                                                                            |
| strides | manis::Argument::ints | strides[i] specifies the increment in the ith specification after extracting a given element. Negative indices will reverse the original order. Out of range values are clamped to [0, dim[i]) if slice[i] > 0 or [-1, dim[i] - 1] if slice[i] < 0                                                                 |

## SOFTMAX

| key | value              | description       |
|-----|--------------------|-------------------|
| dim | manis::Argument::i | default value -1. |

softmax = exp(logits) / reduce_sum(exp(logits), dim)

## SPLIT

| key   | value              | description                                                            |
|-------|--------------------|------------------------------------------------------------------------|
| axis  | manis::Argument::i | the dimension along which to split                                     |
| split | manis::Argument::i | the number of ways to split. Must evenly divide value.shape[split_dim] |

## SQUEEZE

| key   | value              | description                                                            |
|-------|--------------------|------------------------------------------------------------------------|
| axis  | manis::Argument::i | the dimension along which to split                                     |
| split | manis::Argument::i | the number of ways to split. Must evenly divide value.shape[split_dim] |

## TANH

Computes hyperbolic tangent of x element-wise.
